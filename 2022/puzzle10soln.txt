cat puzzle10.txt | tr -d '\r' | awk '{if ($0 == "noop") print "noop 0"; else print $0;}' | awk '{ i += 1; if ($1 == "addx") { r += 0; print i,0,r+1; i += 1; print i,$2,r+1; r += $2; } else { r += 0; print i,0,r+1; } }' | grep -P '^(20|60|100|140|180|220) ' | awk '{print $1*$3}' | tr '\n' '+' | sed 's/\+$/\n' | bc
cat puzzle10.txt | tr -d '\r' | awk '{if ($0 == "noop") print "noop 0"; else print $0;}' | awk '{ i += 1; if ($1 == "addx") { r += 0; print (i-1)%40,0,r+1,(r+1)-((i-1)%40); i += 1; print (i-1)%40,$2,r+1,(r+1)-((i-1)%40); r += $2; } else { r += 0; print (i-1)%40,0,r+1,(r+1)-((i-1)%40); } }' | awk '{if (sqrt($4*$4) < 2) print "#"; else print ".";}' | tr -d '\n' | sed 's/\(.\{40\}\)/\1\n/g'
