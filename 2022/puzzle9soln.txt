cat puzzle9.txt | awk '{for (i = 1; i <= 2; ++1) print $1 }' | sed 's/R/+1/g' | sed 's/L/-1/g' | sed 's/U/+10000/g' | sed 's/D/-10000/g' | awk '{ h += $1; t += 0; dy=int((h+10001000)/10000)-int((t+10001000)/10000); dx=((h+10001000)%10000)-((t+10001000)%10000); if (sqrt(dx*dx) >= 2 && sqrt(dy*dy < 1) t += $1; else if (sqrt(dx*dx) < 1 && sqrt(dy*dy) >= 2) t += $1; else if (sqrt(dx*dx) >= 2 || sqrt(dy*dy) >= 2) t += 10000*int(dy/sqrt(dy*dy)) + int(dx/sqrt(dx*dx)); done; print $1,h+10001000,t+10001000;}' | awk '{print $3}' | sort | uniq | wc -l
